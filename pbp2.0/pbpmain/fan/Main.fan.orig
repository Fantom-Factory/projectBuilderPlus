using pbplogging

class Main
{
<<<<<<< local
  const static Log log := Log.get("projectBuilder")
  internal Licensing licensing := Licensing()

=======
  // Copy logs to a file.
  static const Logger logger := Logger 
  {
    dir = Env.cur.workDir
    filename = "projectbuilder-{YYMM}.log"
  }  
  
>>>>>>> other
  Void main()
  {
<<<<<<< local

  try
   {
    if( ! licensing.checkLicense) {return}
    ManagerUtil.checkForUpdates
    ProjectBuilder.start()
   }
   catch(IOErr e)
   {
     //Log here..
     return
   }
=======
    Log.addHandler |logrec| {logger.append(logrec)}
    
    try
    {
      //Need some type of loop here instead...
      Logger.log.info("Starting pbp ...")
      ProjectBuilder.start()
    }
    catch(IOErr e)
    {
      Logger.log.err("Uncatched PBP error", e)
      return
    }
>>>>>>> other

  }
}